<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VC | admin</title>
  <link rel="stylesheet" href="/css/styles.css" type="text/css">
</head>
<body>
    <%- include ("partials/adminheader") %>
    <div class="form-container">
  <h2>Register a New Malware</h2>
  <form action="/admin/addmalware" method="POST">
    <!-- Title Input -->
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" name="name" placeholder="Enter Malware Name" required>
    </div>

    <div class="form-group">
        <label for="symptoms">Symptoms</label>
        <input type="text" id="Symptoms" name="symptoms" placeholder="List the Symptoms" required>
        <p class="instruction">Use <code>","</code>(comma) to separate each Symptoms</p>
      </div>

      <div class="form-group">
        <label for="behave">Behavioral changes</label>
        <input type="text" id="behave" name="behave" placeholder="List the Behavioral changes" required>
        <p class="instruction">Use <code>","</code>(comma) to separate each Behavioral changes</p>
      </div>

    <!-- Body Textarea with Instruction -->
    <div class="form-group">
      <label for="content">Brief Malware Explanation</label>
      <textarea id="content" name="content" placeholder="Enter a brief malware explanation" oninput="autoResize(this)" required></textarea>
      <!-- <p class="instruction">Use <code>{%a="url",t="text"%}</code> to add links in your post.</p> -->
    </div>

    <div class="form-group">
        <label for="solution">Solution</label>
        <textarea id="solution" name="solution" placeholder="Enter a Detailed solution" oninput="autoResize(this)" required></textarea>
        <!-- <p class="instruction">Use <code>{%a="url",t="text"%}</code> to add links in your post.</p> -->
      </div>

    <!-- Submit Button -->
    <button type="submit" class="submit-btn">Add Malware</button>
  </form>
</div>
<% if (success) { %>
    <div class="overlay">
      <div class="overlay-content">
        <p>Malware added successfully</p>
        <button onclick="closeOverlay()">Close</button>
      </div>
    </div>
  <% } %>
  <% if (typeof success !== "undefined" && success===false) { %>
    <div class="overlay">
        <div class="overlay-content">
          <p>Failed to add Malware</p>
          <button onclick="closeOverlay()">Close</button>
        </div>
      </div>
      <% } %>
  <script>
    function closeOverlay() {
      document.querySelector('.overlay').style.display = 'none';
    }
  </script>
<script>
  function autoResize(textarea) {
    textarea.style.height = 'auto';
    textarea.style.height = textarea.scrollHeight + 'px';
  }
</script>

</body>
</html>
